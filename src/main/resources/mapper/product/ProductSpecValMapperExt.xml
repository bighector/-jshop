<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="net.jeeshop.biz.product.client.ProductSpecValMapperExt" >
  <resultMap id="BaseResultMap" type="net.jeeshop.biz.product.model.ProductSpecVal" >
    <id column="id" property="id" />
    <result column="spec_val" property="specVal" />
    <result column="spec_id" property="specId" />
    <result column="ordinal" property="ordinal" />
    <result column="create_time" property="createTime" />
    <result column="update_time" property="updateTime" />
    <result column="create_account" property="createAccount" />
    <result column="update_account" property="updateAccount" />
  </resultMap>
  
  <insert id="insertSpecValues" parameterType="java.util.List">
    insert into product_spec_val (id, spec_val, spec_id, ordinal, create_time, update_time, create_account, update_account)
      values 
    <foreach collection="list" item="item" index="index" separator=",">
      (#{item.id}, #{item.specVal}, #{item.specId}, #{item.ordinal}, #{item.createTime}, #{item.updateTime}, #{item.createAccount}, #{item.updateAccount})
   </foreach>
  </insert>
  
  <delete id="deleteBySpecId" parameterType="java.lang.Long">
     delete from product_spec_val where spec_id=#{id} order by ordinal asc
  </delete>
  
  <select id="selectBySpecId" parameterType="java.lang.Long" resultMap="BaseResultMap">
     select psv.spec_val, psv.spec_id,psv.ordinal from  product_spec_val psv where spec_id=#{id}
  </select>
    
</mapper>